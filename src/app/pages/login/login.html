<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100..900;1,100..900&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
</head>

<div class="loading-overlay" *ngIf="isLoading">
  <div class="loading-content">
    <img src="../../../assets/imagens/logoprogestao.png" alt="Logo ProGest" class="loading-logo">
    <div class="progress-bar-indeterminate">
      <div class="progress-track"></div>
    </div>
    <p class="loading-text">Carregando...</p>
  </div>
</div>

<div class="form" [class.blur]="isLoading">
    <div class="leftside">
        <img src="../../../assets/imagens/img-left2.png" alt="Tela de login">
    </div>
    <div class="rightside">
        <div class="login-title">
            <img src="../../../assets/imagens/logoprogestao.png" alt="Logo" class="login-logo">
            <h2><strong>Pro</strong>Gest</h2>
        </div>
        <form class="input-container" (ngSubmit)="onSubmit($event)">
            <div class="input">
                <i class="fa fa-user"></i>
                <input
                type="email"
                [(ngModel)]="email"
                name="email"
                placeholder="Email"
                required
                (input)="onInputChange()"
                />
            </div>

            <div class="input">
                <i class="fa fa-lock"></i>
                <input
                type="password"
                [(ngModel)]="password"
                name="password"
                placeholder="Senha"
                required
                minlength="6"
                (input)="onInputChange()"
                />
            </div>

            <button type="submit" class="login" [disabled]="isLoading">
                {{ isLoading ? 'Entrando...' : 'Entrar' }}
            </button>
        </form>

        <!-- ✅ CORREÇÃO: Link com navegação programática como fallback -->
        <div class="forgot-password">
            <a (click)="navigateToEsqueceuSenha()">Esqueceu a senha?</a>
        </div>
    </div>
</div>