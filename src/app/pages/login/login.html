<div class="loading-overlay" *ngIf="isLoading">
  <div class="loading-content">
    <img src="../../../assets/imagens/logoprogestao.png" alt="Logo ProGest" class="loading-logo">
    <div class="progress-bar-indeterminate">
      <div class="progress-track"></div>
    </div>
    <p class="loading-text">Carregando...</p>
  </div>
</div>

<div class="form" [class.blur]="isLoading">
    <div class="leftside">
        <img src="../../../assets/imagens/img-left2.png" alt="Tela de login">
    </div>
    <div class="rightside">
        <div class="login-title">
            <img src="../../../assets/imagens/logoprogestao.png" alt="Logo" class="login-logo">
            <h2><strong>Pro</strong>Gest</h2>
        </div>
        <form class="input-container" (ngSubmit)="onSubmit($event)">
            <div class="input">
                <i class="fa fa-user"></i>
                <input
                type="email"
                [(ngModel)]="email"
                name="email"
                placeholder="Email"
                required
                (input)="onInputChange()"
                />
            </div>

            <div class="input">
                <i class="fa fa-lock"></i>
                <input
                type="password"
                [(ngModel)]="password"
                name="password"
                placeholder="Senha"
                required
                minlength="6"
                (input)="onInputChange()"
                />
            </div>

            <button type="submit" class="login" [disabled]="isLoading">
                {{ isLoading ? 'Entrando...' : 'Entrar' }}
            </button>
        </form>

        <!-- ✅ CORREÇÃO: Link com navegação programática como fallback -->
        <div class="forgot-password">
            <a (click)="navigateToEsqueceuSenha()">Esqueceu a senha?</a>
        </div>
    </div>
</div>